{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useCallback } from \"react\";\nimport { EmptyState, Layout, Page } from \"@shopify/polaris\";\nimport { ResourcePicker, TitleBar } from \"@shopify/app-bridge-react\";\nimport store from \"store-js\";\nimport ResourceListWithProducts from \"../components/ResourceList\";\nimport sendSurvey from \"../components/sendSurvey\";\nimport { VariablesAreInputTypesRule } from \"graphql\";\nconst img = \"https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg\";\n\nclass Index extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      open: false\n    });\n\n    _defineProperty(this, \"handleSelection\", resources => {\n      const idsFromResources = resources.selection.map(product => product.id);\n      this.setState({\n        open: false\n      });\n      store.set(\"ids\", idsFromResources);\n    });\n  }\n\n  render() {\n    const emptyState = !store.get(\"ids\");\n    return /*#__PURE__*/_jsx(\"sendSurvey\", {}) // <Page>\n    //   <TitleBar\n    //     title=\"SurveySparrow App\"\n    //     primaryAction={{\n    //       content: \"Send Surveys\",\n    //       onAction: () => this.setState({ on: true }),\n    //     }}\n    //   />\n    //   <ResourcePicker\n    //     resourceType=\"Product\"\n    //     showVariants={false}\n    //     open={this.state.open}\n    //     onSelection={(resources) => this.handleSelection(resources)}\n    //     onCancel={() => this.setState({ open: false })}\n    //   />\n    //   {emptyState ? (\n    //     <Layout>\n    //       <EmptyState\n    //         heading=\"Select products to start\"\n    //         action={{\n    //           content: \"Select products\",\n    //           onAction: () => this.setState({ open: true }),\n    //         }}\n    //         image={img}\n    //       >\n    //         <p>Select products and change their price.</p>\n    //         <sendSurvey />\n    //       </EmptyState>\n    //     </Layout>\n    //   ) : (\n    //       <ResourceListWithProducts />\n    //     )}\n    // </Page>\n    ;\n  }\n\n}\n\nexport default Index;","map":{"version":3,"sources":["/home/abhishek/Internships/SurveySparrow/Shopify-app/sample-embedded-app/pages/index.js"],"names":["React","useCallback","EmptyState","Layout","Page","ResourcePicker","TitleBar","store","ResourceListWithProducts","sendSurvey","VariablesAreInputTypesRule","img","Index","Component","open","resources","idsFromResources","selection","map","product","id","setState","set","render","emptyState","get"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,QAAmC,OAAnC;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,IAA7B,QAAyC,kBAAzC;AACA,SAASC,cAAT,EAAyBC,QAAzB,QAAyC,2BAAzC;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,wBAAP,MAAqC,4BAArC;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,SAASC,0BAAT,QAA2C,SAA3C;AAEA,MAAMC,GAAG,GAAG,mEAAZ;;AAEA,MAAMC,KAAN,SAAoBZ,KAAK,CAACa,SAA1B,CAAoC;AAAA;AAAA;;AAAA,mCAC1B;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAD0B;;AAAA,6CA2CfC,SAAD,IAAe;AAC/B,YAAMC,gBAAgB,GAAGD,SAAS,CAACE,SAAV,CAAoBC,GAApB,CAAyBC,OAAD,IAAaA,OAAO,CAACC,EAA7C,CAAzB;AACA,WAAKC,QAAL,CAAc;AAAEP,QAAAA,IAAI,EAAE;AAAR,OAAd;AACAP,MAAAA,KAAK,CAACe,GAAN,CAAU,KAAV,EAAiBN,gBAAjB;AACD,KA/CiC;AAAA;;AAGlCO,EAAAA,MAAM,GAAG;AACP,UAAMC,UAAU,GAAG,CAACjB,KAAK,CAACkB,GAAN,CAAU,KAAV,CAApB;AAEA,wBACE,sBADF,CAEE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlCF;AAoCD;;AA1CiC;;AAkDpC,eAAeb,KAAf","sourcesContent":["import React, { useCallback } from \"react\";\nimport { EmptyState, Layout, Page } from \"@shopify/polaris\";\nimport { ResourcePicker, TitleBar } from \"@shopify/app-bridge-react\";\nimport store from \"store-js\";\nimport ResourceListWithProducts from \"../components/ResourceList\";\nimport sendSurvey from \"../components/sendSurvey\";\nimport { VariablesAreInputTypesRule } from \"graphql\";\n\nconst img = \"https://cdn.shopify.com/s/files/1/0757/9955/files/empty-state.svg\";\n\nclass Index extends React.Component {\n  state = { open: false };\n\n  render() {\n    const emptyState = !store.get(\"ids\");\n\n    return (\n      <sendSurvey />\n      // <Page>\n      //   <TitleBar\n      //     title=\"SurveySparrow App\"\n      //     primaryAction={{\n      //       content: \"Send Surveys\",\n      //       onAction: () => this.setState({ on: true }),\n      //     }}\n      //   />\n      //   <ResourcePicker\n      //     resourceType=\"Product\"\n      //     showVariants={false}\n      //     open={this.state.open}\n      //     onSelection={(resources) => this.handleSelection(resources)}\n      //     onCancel={() => this.setState({ open: false })}\n      //   />\n      //   {emptyState ? (\n      //     <Layout>\n      //       <EmptyState\n      //         heading=\"Select products to start\"\n      //         action={{\n      //           content: \"Select products\",\n      //           onAction: () => this.setState({ open: true }),\n      //         }}\n      //         image={img}\n      //       >\n      //         <p>Select products and change their price.</p>\n      //         <sendSurvey />\n      //       </EmptyState>\n      //     </Layout>\n      //   ) : (\n      //       <ResourceListWithProducts />\n      //     )}\n      // </Page>\n    );\n  }\n  handleSelection = (resources) => {\n    const idsFromResources = resources.selection.map((product) => product.id);\n    this.setState({ open: false });\n    store.set(\"ids\", idsFromResources);\n  };\n}\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}