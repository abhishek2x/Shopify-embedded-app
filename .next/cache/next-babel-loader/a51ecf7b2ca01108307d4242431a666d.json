{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Button, EmptyState, TextField } from '@shopify/polaris';\nimport React, { useCallback, useState } from 'react';\n/*\nThings I am doing here:\n\n* Sending an invitation to be among customers -> SurveySparrow API\n* Fetching a list of people who filled a survey -> SurveySparrow API\n* Adding those people among my shopify Customers -> Shopify API\n* After adding a customer, deleting their response -> SurveySparrow API\n\n*/\n\nfunction InviteCustomer() {\n  const {\n    0: email,\n    1: setEmail\n  } = useState('');\n  const handleChange = useCallback(newValue => setEmail(newValue), []);\n  const url = 'https://api.surveysparrow.com/v1/shares/email/2244557';\n  const bearer = 'Bearer ' + 'pr0XQuLJrxoeXIiJ6fhDnp_pJ3QgHQ2-8jY2xTrjbfLx1Iv-iFn6KxNtGi01SRDDFWJUmDpNS8SnawQl97OGIMkA';\n  const requestOptions = {\n    method: 'PUT',\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': bearer\n    },\n    body: JSON.stringify({\n      \"contacts\": [email]\n    })\n  };\n\n  const sendInvite = e => {\n    e.preventDefault();\n    console.log(\"Sending Customer Invite Mail...\");\n\n    if (email) {\n      console.log(email);\n      fetch(url, requestOptions).then(res => {\n        console.log(\"Customer Invite Mail Sent!\");\n      }).catch(err => {\n        console.log(err);\n      });\n      setEmail('');\n    } else {\n      console.log(\"You entered any email id\");\n    }\n  };\n\n  return /*#__PURE__*/_jsx(EmptyState, {\n    heading: \"Add a new Customer\",\n    children: /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: sendInvite,\n      children: [/*#__PURE__*/_jsx(TextField, {\n        label: \"Email id\",\n        value: email,\n        onChange: handleChange,\n        placeholder: \"Enter email id\"\n      }), /*#__PURE__*/_jsx(Button, {\n        submit: true,\n        primary: true,\n        children: \"Share Survey\"\n      })]\n    })\n  });\n}\n\nexport default InviteCustomer;","map":{"version":3,"sources":["/home/abhishek/Internships/SurveySparrow/Shopify-app/sample-embedded-app/components/InviteCustomer.js"],"names":["Button","EmptyState","TextField","React","useCallback","useState","InviteCustomer","email","setEmail","handleChange","newValue","url","bearer","requestOptions","method","withCredentials","headers","body","JSON","stringify","sendInvite","e","preventDefault","console","log","fetch","then","res","catch","err"],"mappings":";;AAAA,SAASA,MAAT,EAAiBC,UAAjB,EAA6BC,SAA7B,QAA8C,kBAA9C;AACA,OAAOC,KAAP,IAAgBC,WAAhB,EAA6BC,QAA7B,QAA6C,OAA7C;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASC,cAAT,GAA0B;AACxB,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBH,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAMI,YAAY,GAAGL,WAAW,CAAEM,QAAD,IAAcF,QAAQ,CAACE,QAAD,CAAvB,EAAmC,EAAnC,CAAhC;AAEA,QAAMC,GAAG,GAAG,uDAAZ;AACA,QAAMC,MAAM,GAAG,YAAY,0FAA3B;AACA,QAAMC,cAAc,GAAG;AACrBC,IAAAA,MAAM,EAAE,KADa;AAErBC,IAAAA,eAAe,EAAE,IAFI;AAGrBC,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,uBAAiBJ;AAFV,KAHY;AAOrBK,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnB,kBAAY,CAACZ,KAAD;AADO,KAAf;AAPe,GAAvB;;AAYA,QAAMa,UAAU,GAAIC,CAAD,IAAO;AAExBA,IAAAA,CAAC,CAACC,cAAF;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ;;AAEA,QAAIjB,KAAJ,EAAW;AACTgB,MAAAA,OAAO,CAACC,GAAR,CAAYjB,KAAZ;AAEAkB,MAAAA,KAAK,CAACd,GAAD,EAAME,cAAN,CAAL,CACGa,IADH,CACSC,GAAD,IAAS;AACbJ,QAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACD,OAHH,EAIGI,KAJH,CAIUC,GAAD,IAAS;AACdN,QAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACD,OANH;AAQArB,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACD,KAZD,MAaK;AACHe,MAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACD;AACF,GArBD;;AAuBA,sBACE,KAAC,UAAD;AACE,IAAA,OAAO,EAAC,oBADV;AAAA,2BAGE;AAAM,MAAA,QAAQ,EAAEJ,UAAhB;AAAA,8BACE,KAAC,SAAD;AACA,QAAA,KAAK,EAAC,UADN;AAEA,QAAA,KAAK,EAAEb,KAFP;AAGA,QAAA,QAAQ,EAAEE,YAHV;AAIA,QAAA,WAAW,EAAC;AAJZ,QADF,eAOE,KAAC,MAAD;AAAQ,QAAA,MAAM,MAAd;AAAe,QAAA,OAAO,MAAtB;AAAA;AAAA,QAPF;AAAA;AAHF,IADF;AAeD;;AAED,eAAeH,cAAf","sourcesContent":["import { Button, EmptyState, TextField } from '@shopify/polaris'\nimport React, { useCallback, useState } from 'react'\n\n/*\nThings I am doing here:\n\n* Sending an invitation to be among customers -> SurveySparrow API\n* Fetching a list of people who filled a survey -> SurveySparrow API\n* Adding those people among my shopify Customers -> Shopify API\n* After adding a customer, deleting their response -> SurveySparrow API\n\n*/\n\nfunction InviteCustomer() {\n  const [email, setEmail] = useState('');\n  const handleChange = useCallback((newValue) => setEmail(newValue), []);\n\n  const url = 'https://api.surveysparrow.com/v1/shares/email/2244557'\n  const bearer = 'Bearer ' + 'pr0XQuLJrxoeXIiJ6fhDnp_pJ3QgHQ2-8jY2xTrjbfLx1Iv-iFn6KxNtGi01SRDDFWJUmDpNS8SnawQl97OGIMkA';\n  const requestOptions = {\n    method: 'PUT',\n    withCredentials: true,\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': bearer,\n    },\n    body: JSON.stringify({\n      \"contacts\": [email]\n    })\n  };\n\n  const sendInvite = (e) => {\n\n    e.preventDefault();\n    console.log(\"Sending Customer Invite Mail...\")\n\n    if (email) {\n      console.log(email)\n\n      fetch(url, requestOptions)\n        .then((res) => {\n          console.log(\"Customer Invite Mail Sent!\")\n        })\n        .catch((err) => {\n          console.log(err)\n        })\n\n      setEmail('');\n    }\n    else {\n      console.log(\"You entered any email id\")\n    }\n  };\n\n  return (\n    <EmptyState\n      heading=\"Add a new Customer\"\n    >\n      <form onSubmit={sendInvite}>\n        <TextField\n        label=\"Email id\" \n        value={email} \n        onChange={handleChange}\n        placeholder=\"Enter email id\"\n        />\n        <Button submit primary>Share Survey</Button>\n      </form>\n    </EmptyState>\n  )\n}\n\nexport default InviteCustomer\n"]},"metadata":{},"sourceType":"module"}