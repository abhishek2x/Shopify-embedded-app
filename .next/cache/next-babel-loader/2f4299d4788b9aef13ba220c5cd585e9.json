{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Button, EmptyState, TextField } from '@shopify/polaris';\nimport React, { useCallback, useEffect } from 'react';\nimport { useState } from 'react'; // Here I am using surveySparrow API\n\nfunction Form({\n  customers,\n  setCustomers\n}) {\n  // const [input, setInput] = useState(\"\")\n  const {\n    0: email,\n    1: setemail\n  } = useState([]);\n  const url = 'https://api.surveysparrow.com/v1/shares/email/2238828';\n  const bearer = 'Bearer ' + 'pr0XQuLJrxoeXIiJ6fhDnp_pJ3QgHQ2-8jY2xTrjbfLx1Iv-iFn6KxNtGi01SRDDFWJUmDpNS8SnawQl97OGIMkA';\n  const customersEmail = customers.map(customer => /*#__PURE__*/_jsx(\"li\", {\n    children: customer.value\n  })); // useEffect(() => {\n  //   const requestOptions = {\n  //     method: 'PUT',\n  //     withCredentials: true,\n  //     headers: {\n  //       'Content-Type': 'application/json',\n  //       'Authorization': bearer,\n  //     },\n  //     // cutomersEmail = extractEmail(customers)\n  //     body: JSON.stringify({\n  //       \"contacts\": cutomersEmail\n  //     })\n  //   };\n  //   fetch(url, requestOptions)\n  //     .then((res) => {\n  //       console.log(\"Order making form sent\")\n  //     })\n  //     .catch((err) => {\n  //       console.log(err)\n  //     })\n  // }, [email]);\n\n  const sendSurveys = e => {\n    e.preventDefault();\n    console.log(\"Button clicked\");\n\n    if (customers) {\n      setemail(customers);\n      console.log(customers);\n      console.log(customersEmail);\n      setCustomers([]);\n    }\n  }; // const handleChange = useCallback((newValue) => setInput(newValue), []);\n\n\n  return /*#__PURE__*/_jsx(EmptyState, {\n    children: /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: sendSurveys,\n      children: [/*#__PURE__*/_jsx(\"label\", {\n        for: \"name\",\n        children: \"Share Survey through emails\"\n      }), /*#__PURE__*/_jsx(Button, {\n        submit: true,\n        primary: true,\n        children: \"Submit\"\n      })]\n    })\n  });\n}\n\nexport default Form;","map":{"version":3,"sources":["/home/abhishek/Internships/SurveySparrow/Shopify-app/sample-embedded-app/components/Form.js"],"names":["Button","EmptyState","TextField","React","useCallback","useEffect","useState","Form","customers","setCustomers","email","setemail","url","bearer","customersEmail","map","customer","value","sendSurveys","e","preventDefault","console","log"],"mappings":";;AAAA,SAASA,MAAT,EAAiBC,UAAjB,EAA6BC,SAA7B,QAA8C,kBAA9C;AACA,OAAOC,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,QAA8C,OAA9C;AACA,SAASC,QAAT,QAAyB,OAAzB,C,CAEA;;AACA,SAASC,IAAT,CAAc;AAAEC,EAAAA,SAAF;AAAaC,EAAAA;AAAb,CAAd,EAA2C;AACzC;AACA,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBL,QAAQ,CAAC,EAAD,CAAlC;AAEA,QAAMM,GAAG,GAAG,uDAAZ;AACA,QAAMC,MAAM,GAAG,YAAY,0FAA3B;AAEA,QAAMC,cAAc,GAAGN,SAAS,CAACO,GAAV,CAAeC,QAAD,iBACnC;AAAA,cAAKA,QAAQ,CAACC;AAAd,IADqB,CAAvB,CAPyC,CAWzC;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,QAAMC,WAAW,GAAIC,CAAD,IAAO;AACzBA,IAAAA,CAAC,CAACC,cAAF;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;;AACA,QAAId,SAAJ,EAAe;AACbG,MAAAA,QAAQ,CAACH,SAAD,CAAR;AACAa,MAAAA,OAAO,CAACC,GAAR,CAAYd,SAAZ;AACAa,MAAAA,OAAO,CAACC,GAAR,CAAYR,cAAZ;AACAL,MAAAA,YAAY,CAAC,EAAD,CAAZ;AACD;AACF,GATD,CAjCuC,CA4CvC;;;AAEA,sBACE,KAAC,UAAD;AAAA,2BACE;AAAM,MAAA,QAAQ,EAAES,WAAhB;AAAA,8BACE;AAAO,QAAA,GAAG,EAAC,MAAX;AAAA;AAAA,QADF,eAGE,KAAC,MAAD;AAAQ,QAAA,MAAM,MAAd;AAAe,QAAA,OAAO,MAAtB;AAAA;AAAA,QAHF;AAAA;AADF,IADF;AASD;;AAEH,eAAeX,IAAf","sourcesContent":["import { Button, EmptyState, TextField } from '@shopify/polaris'\nimport React, { useCallback, useEffect } from 'react'\nimport { useState } from 'react'\n\n// Here I am using surveySparrow API\nfunction Form({ customers, setCustomers }) {\n  // const [input, setInput] = useState(\"\")\n  const [email, setemail] = useState([])\n\n  const url = 'https://api.surveysparrow.com/v1/shares/email/2238828'\n  const bearer = 'Bearer ' + 'pr0XQuLJrxoeXIiJ6fhDnp_pJ3QgHQ2-8jY2xTrjbfLx1Iv-iFn6KxNtGi01SRDDFWJUmDpNS8SnawQl97OGIMkA';\n\n  const customersEmail = customers.map((customer) =>\n    <li>{customer.value}</li>\n  );\n\n  // useEffect(() => {\n    //   const requestOptions = {\n    //     method: 'PUT',\n    //     withCredentials: true,\n    //     headers: {\n    //       'Content-Type': 'application/json',\n    //       'Authorization': bearer,\n    //     },\n    //     // cutomersEmail = extractEmail(customers)\n    //     body: JSON.stringify({\n    //       \"contacts\": cutomersEmail\n    //     })\n    //   };\n    //   fetch(url, requestOptions)\n    //     .then((res) => {\n    //       console.log(\"Order making form sent\")\n    //     })\n    //     .catch((err) => {\n    //       console.log(err)\n    //     })\n    // }, [email]);\n\n    const sendSurveys = (e) => {\n      e.preventDefault();\n      console.log(\"Button clicked\")\n      if (customers) {\n        setemail(customers);\n        console.log(customers)\n        console.log(customersEmail)\n        setCustomers([]);\n      }\n    }\n\n    // const handleChange = useCallback((newValue) => setInput(newValue), []);\n\n    return (\n      <EmptyState >\n        <form onSubmit={sendSurveys}>\n          <label for=\"name\">Share Survey through emails</label>\n          {/* <TextField label=\"Email id\" value={input} onChange={handleChange} /> */}\n          <Button submit primary>Submit</Button>\n        </form>\n      </EmptyState>\n    )\n  }\n\nexport default Form;\n"]},"metadata":{},"sourceType":"module"}