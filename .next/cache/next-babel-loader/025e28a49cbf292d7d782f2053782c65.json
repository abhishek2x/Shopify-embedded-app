{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar _s = $RefreshSig$();\n\nimport { Button, EmptyState, TextField } from '@shopify/polaris';\nimport React, { useCallback, useEffect } from 'react';\nimport { useState } from 'react'; // Here I am using surveySparrow API\n\nfunction Form(_ref) {\n  _s();\n\n  var customers = _ref.customers,\n      setCustomers = _ref.setCustomers;\n\n  // const [input, setInput] = useState(\"\")\n  var _useState = useState([]),\n      email = _useState[0],\n      setemail = _useState[1];\n\n  var url = 'https://api.surveysparrow.com/v1/shares/email/2238828';\n  var bearer = 'Bearer ' + 'pr0XQuLJrxoeXIiJ6fhDnp_pJ3QgHQ2-8jY2xTrjbfLx1Iv-iFn6KxNtGi01SRDDFWJUmDpNS8SnawQl97OGIMkA'; // const customersEmail = customers.map((customer) =>\n  //   <li>{customer.value}</li>\n  // );\n\n  useEffect(function () {\n    var requestOptions = {\n      method: 'PUT',\n      withCredentials: true,\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': bearer\n      },\n      // cutomersEmail = extractEmail(customers)\n      body: JSON.stringify({\n        \"contacts\": cutomersEmail\n      })\n    };\n    fetch(url, requestOptions).then(function (res) {\n      console.log(\"Order making form sent\");\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n  }, [email]);\n\n  var sendSurveys = function sendSurveys(e) {\n    e.preventDefault();\n    console.log(\"Button clicked\");\n\n    if (customers) {\n      setemail(customers);\n      console.log(customers);\n      setCustomers([]);\n    }\n  }; // const handleChange = useCallback((newValue) => setInput(newValue), []);\n\n\n  return /*#__PURE__*/_jsx(EmptyState, {\n    children: /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: sendSurveys,\n      children: [/*#__PURE__*/_jsx(\"label\", {\n        \"for\": \"name\",\n        children: \"Share Survey through emails\"\n      }), /*#__PURE__*/_jsx(Button, {\n        submit: true,\n        primary: true,\n        children: \"Submit\"\n      })]\n    })\n  });\n}\n\n_s(Form, \"r1a9ckEgX9Sh/g23AMoGo35hMZw=\");\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["/home/abhishek/Internships/SurveySparrow/Shopify-app/sample-embedded-app/components/Form.js"],"names":["Button","EmptyState","TextField","React","useCallback","useEffect","useState","Form","customers","setCustomers","email","setemail","url","bearer","requestOptions","method","withCredentials","headers","body","JSON","stringify","cutomersEmail","fetch","then","res","console","log","err","sendSurveys","e","preventDefault"],"mappings":";;;;;AAAA,SAASA,MAAT,EAAiBC,UAAjB,EAA6BC,SAA7B,QAA8C,kBAA9C;AACA,OAAOC,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,QAA8C,OAA9C;AACA,SAASC,QAAT,QAAyB,OAAzB,C,CAEA;;AACA,SAASC,IAAT,OAA2C;AAAA;;AAAA,MAA3BC,SAA2B,QAA3BA,SAA2B;AAAA,MAAhBC,YAAgB,QAAhBA,YAAgB;;AACzC;AADyC,kBAEfH,QAAQ,CAAC,EAAD,CAFO;AAAA,MAElCI,KAFkC;AAAA,MAE3BC,QAF2B;;AAIzC,MAAMC,GAAG,GAAG,uDAAZ;AACA,MAAMC,MAAM,GAAG,YAAY,0FAA3B,CALyC,CAOzC;AACA;AACA;;AAEAR,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMS,cAAc,GAAG;AACrBC,MAAAA,MAAM,EAAE,KADa;AAErBC,MAAAA,eAAe,EAAE,IAFI;AAGrBC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,yBAAiBJ;AAFV,OAHY;AAOrB;AACAK,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnB,oBAAYC;AADO,OAAf;AARe,KAAvB;AAYAC,IAAAA,KAAK,CAACV,GAAD,EAAME,cAAN,CAAL,CACGS,IADH,CACQ,UAACC,GAAD,EAAS;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACD,KAHH,WAIS,UAACC,GAAD,EAAS;AACdF,MAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACD,KANH;AAOD,GApBQ,EAoBN,CAACjB,KAAD,CApBM,CAAT;;AAsBA,MAAMkB,WAAW,GAAG,SAAdA,WAAc,CAACC,CAAD,EAAO;AACzBA,IAAAA,CAAC,CAACC,cAAF;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;;AACA,QAAIlB,SAAJ,EAAe;AACbG,MAAAA,QAAQ,CAACH,SAAD,CAAR;AACAiB,MAAAA,OAAO,CAACC,GAAR,CAAYlB,SAAZ;AACAC,MAAAA,YAAY,CAAC,EAAD,CAAZ;AACD;AACF,GARD,CAjCyC,CA2CzC;;;AAEA,sBACE,KAAC,UAAD;AAAA,2BACE;AAAM,MAAA,QAAQ,EAAEmB,WAAhB;AAAA,8BACE;AAAO,eAAI,MAAX;AAAA;AAAA,QADF,eAGE,KAAC,MAAD;AAAQ,QAAA,MAAM,MAAd;AAAe,QAAA,OAAO,MAAtB;AAAA;AAAA,QAHF;AAAA;AADF,IADF;AASD;;GAtDQrB,I;;KAAAA,I;AAwDT,eAAeA,IAAf","sourcesContent":["import { Button, EmptyState, TextField } from '@shopify/polaris'\nimport React, { useCallback, useEffect } from 'react'\nimport { useState } from 'react'\n\n// Here I am using surveySparrow API\nfunction Form({ customers, setCustomers }) {\n  // const [input, setInput] = useState(\"\")\n  const [email, setemail] = useState([])\n\n  const url = 'https://api.surveysparrow.com/v1/shares/email/2238828'\n  const bearer = 'Bearer ' + 'pr0XQuLJrxoeXIiJ6fhDnp_pJ3QgHQ2-8jY2xTrjbfLx1Iv-iFn6KxNtGi01SRDDFWJUmDpNS8SnawQl97OGIMkA';\n\n  // const customersEmail = customers.map((customer) =>\n  //   <li>{customer.value}</li>\n  // );\n\n  useEffect(() => {\n    const requestOptions = {\n      method: 'PUT',\n      withCredentials: true,\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': bearer,\n      },\n      // cutomersEmail = extractEmail(customers)\n      body: JSON.stringify({\n        \"contacts\": cutomersEmail\n      })\n    };\n    fetch(url, requestOptions)\n      .then((res) => {\n        console.log(\"Order making form sent\")\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }, [email]);\n\n  const sendSurveys = (e) => {\n    e.preventDefault();\n    console.log(\"Button clicked\")\n    if (customers) {\n      setemail(customers);\n      console.log(customers)\n      setCustomers([]);\n    }\n  }\n\n  // const handleChange = useCallback((newValue) => setInput(newValue), []);\n\n  return (\n    <EmptyState >\n      <form onSubmit={sendSurveys}>\n        <label for=\"name\">Share Survey through emails</label>\n        {/* <TextField label=\"Email id\" value={input} onChange={handleChange} /> */}\n        <Button submit primary>Submit</Button>\n      </form>\n    </EmptyState>\n  )\n}\n\nexport default Form;\n"]},"metadata":{},"sourceType":"module"}