{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { EmptyState } from '@shopify/polaris';\nimport React, { useEffect } from 'react';\nimport { useState } from 'react';\n\nfunction ReviewForm() {\n  const {\n    0: input,\n    1: setInput\n  } = useState(\"\");\n  const {\n    0: email,\n    1: setemail\n  } = useState(\"\");\n  const url = 'https://api.surveysparrow.com/v1/surveys/88713/sections';\n  const bearer = 'Bearer ' + 'prUJqEHlpzWrjBGP477dWklUz2sP6YlxMb4x0tY4J1rgW59TIJei20mhE2bpSvmnt56tG9N5xRMBmwMYDSkVQ4NQ';\n  const json_query = {\n    \"name\": \"Welcome to Review Form\",\n    \"description\": \"This is section will be based on the leadership quality\",\n    \"properties\": {\n      \"label\": \"start a this section\"\n    },\n    \"questions\": [{\n      \"text\": \"Please enter your feedback\",\n      \"type\": \"TextInput\",\n      \"properties\": {\n        \"data\": {\n          \"type\": \"MULTI_LINE\"\n        }\n      }\n    }, {\n      \"text\": \"Please give your rating\",\n      \"type\": \"OpinionScale\",\n      \"properties\": {\n        \"data\": {\n          \"min\": \"min label\",\n          \"max\": \"max label\",\n          \"start\": 1,\n          \"step\": 7\n        }\n      }\n    }]\n  };\n  useEffect(() => {\n    const requestOptions = {\n      method: 'POST',\n      withCredentials: true,\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': bearer\n      },\n      body: JSON.stringify(json_query)\n    };\n    fetch(url, requestOptions).then(console.log(\"sent\"));\n  }, [email]);\n\n  const sendSurveys = e => {\n    e.preventDefault();\n\n    if (input) {\n      setemail(input);\n      console.log(email);\n      setInput(\"\");\n    }\n  };\n\n  return /*#__PURE__*/_jsx(EmptyState, {\n    heading: \"Share Review Survey through emails\",\n    children: /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: sendSurveys,\n      children: [/*#__PURE__*/_jsx(\"label\", {\n        for: \"name\",\n        children: \"Name\"\n      }), /*#__PURE__*/_jsx(\"input\", {\n        placeholder: \"Email id\",\n        type: \"input\",\n        name: \"input\",\n        id: \"input\",\n        value: input,\n        onChange: e => setInput(e.target.value)\n      })]\n    })\n  });\n}\n\nexport default ReviewForm;","map":{"version":3,"sources":["/home/abhishek/Internships/SurveySparrow/Shopify-app/sample-embedded-app/components/ReviewForm.js"],"names":["EmptyState","React","useEffect","useState","ReviewForm","input","setInput","email","setemail","url","bearer","json_query","requestOptions","method","withCredentials","headers","body","JSON","stringify","fetch","then","console","log","sendSurveys","e","preventDefault","target","value"],"mappings":";;AAAA,SAASA,UAAT,QAA2B,kBAA3B;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,OAAzB;;AAEA,SAASC,UAAT,GAAsB;AAClB,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBH,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAAA,OAACI,KAAD;AAAA,OAAQC;AAAR,MAAoBL,QAAQ,CAAC,EAAD,CAAlC;AAEA,QAAMM,GAAG,GAAG,yDAAZ;AACA,QAAMC,MAAM,GAAG,YAAY,0FAA3B;AACA,QAAMC,UAAU,GAAG;AACf,YAAQ,wBADO;AAEf,mBAAe,yDAFA;AAGf,kBAAc;AACV,eAAS;AADC,KAHC;AAMf,iBAAa,CAAC;AACV,cAAQ,4BADE;AAEV,cAAQ,WAFE;AAGV,oBAAc;AACV,gBAAQ;AACJ,kBAAQ;AADJ;AADE;AAHJ,KAAD,EAQV;AACC,cAAQ,yBADT;AAEC,cAAQ,cAFT;AAGC,oBAAc;AACV,gBAAQ;AACJ,iBAAO,WADH;AAEJ,iBAAO,WAFH;AAGJ,mBAAS,CAHL;AAIJ,kBAAQ;AAJJ;AADE;AAHf,KARU;AANE,GAAnB;AA4BAT,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMU,cAAc,GAAG;AACnBC,MAAAA,MAAM,EAAE,MADW;AAEnBC,MAAAA,eAAe,EAAE,IAFE;AAGnBC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,yBAAiBL;AAFZ,OAHU;AAOnBM,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,UAAf;AAPa,KAAvB;AASAQ,IAAAA,KAAK,CAACV,GAAD,EAAMG,cAAN,CAAL,CACKQ,IADL,CAEQC,OAAO,CAACC,GAAR,CAAY,MAAZ,CAFR;AAIH,GAdQ,EAcN,CAACf,KAAD,CAdM,CAAT;;AAiBA,QAAMgB,WAAW,GAAIC,CAAD,IAAO;AACvBA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAIpB,KAAJ,EAAW;AACPG,MAAAA,QAAQ,CAACH,KAAD,CAAR;AACAgB,MAAAA,OAAO,CAACC,GAAR,CAAYf,KAAZ;AACAD,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACH;AACJ,GAPD;;AASA,sBACI,KAAC,UAAD;AACI,IAAA,OAAO,EAAC,oCADZ;AAAA,2BAII;AAAM,MAAA,QAAQ,EAAEiB,WAAhB;AAAA,8BACI;AAAO,QAAA,GAAG,EAAC,MAAX;AAAA;AAAA,QADJ,eAEI;AACI,QAAA,WAAW,EAAC,UADhB;AAEI,QAAA,IAAI,EAAC,OAFT;AAGI,QAAA,IAAI,EAAC,OAHT;AAII,QAAA,EAAE,EAAC,OAJP;AAKI,QAAA,KAAK,EAAElB,KALX;AAMI,QAAA,QAAQ,EAAGmB,CAAD,IAAOlB,QAAQ,CAACkB,CAAC,CAACE,MAAF,CAASC,KAAV;AAN7B,QAFJ;AAAA;AAJJ,IADJ;AAoBH;;AAED,eAAevB,UAAf","sourcesContent":["import { EmptyState } from '@shopify/polaris'\nimport React, { useEffect } from 'react'\nimport { useState } from 'react'\n\nfunction ReviewForm() {\n    const [input, setInput] = useState(\"\")\n    const [email, setemail] = useState(\"\")\n\n    const url = 'https://api.surveysparrow.com/v1/surveys/88713/sections'\n    const bearer = 'Bearer ' + 'prUJqEHlpzWrjBGP477dWklUz2sP6YlxMb4x0tY4J1rgW59TIJei20mhE2bpSvmnt56tG9N5xRMBmwMYDSkVQ4NQ';\n    const json_query = {\n        \"name\": \"Welcome to Review Form\",\n        \"description\": \"This is section will be based on the leadership quality\",\n        \"properties\": {\n            \"label\": \"start a this section\"\n        },\n        \"questions\": [{\n            \"text\": \"Please enter your feedback\",\n            \"type\": \"TextInput\",\n            \"properties\": {\n                \"data\": {\n                    \"type\": \"MULTI_LINE\"\n                }\n            }\n        }, {\n            \"text\": \"Please give your rating\",\n            \"type\": \"OpinionScale\",\n            \"properties\": {\n                \"data\": {\n                    \"min\": \"min label\",\n                    \"max\": \"max label\",\n                    \"start\": 1,\n                    \"step\": 7\n                }\n            }\n        }]\n    }\n\n    useEffect(() => {\n        const requestOptions = {\n            method: 'POST',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': bearer,\n            },\n            body: JSON.stringify(json_query)\n        };\n        fetch(url, requestOptions)\n            .then(\n                console.log(\"sent\")\n            )\n    }, [email]);\n\n\n    const sendSurveys = (e) => {\n        e.preventDefault();\n        if (input) {\n            setemail(input);\n            console.log(email)\n            setInput(\"\");\n        }\n    }\n\n    return (\n        <EmptyState\n            heading=\"Share Review Survey through emails\"\n        >\n            {/* <p>Enter the email address of customers.</p> */}\n            <form onSubmit={sendSurveys}>\n                <label for=\"name\">Name</label>\n                <input\n                    placeholder=\"Email id\"\n                    type=\"input\"\n                    name=\"input\"\n                    id=\"input\"\n                    value={input}\n                    onChange={(e) => setInput(e.target.value)}\n                />\n                {/* <br/>\n                <button type=\"submit\">Submit</button> */}\n            </form>\n        </EmptyState>\n    )\n}\n\nexport default ReviewForm\n"]},"metadata":{},"sourceType":"module"}