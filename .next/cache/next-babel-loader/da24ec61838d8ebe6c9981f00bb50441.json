{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar _s = $RefreshSig$();\n\nimport { Button, EmptyState, TextField } from '@shopify/polaris';\nimport React, { useCallback, useEffect } from 'react';\nimport { useState } from 'react'; // Here I am using surveySparrow API\n\nfunction Form() {\n  _s();\n\n  var _useState = useState(\"\"),\n      input = _useState[0],\n      setInput = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      email = _useState2[0],\n      setemail = _useState2[1];\n\n  var url = 'https://api.surveysparrow.com/v1/shares/email/2238842';\n  var bearer = 'Bearer ' + 'pr0XQuLJrxoeXIiJ6fhDnp_pJ3QgHQ2-8jY2xTrjbfLx1Iv-iFn6KxNtGi01SRDDFWJUmDpNS8SnawQl97OGIMkA';\n  useEffect(function () {\n    var requestOptions = {\n      method: 'PUT',\n      withCredentials: true,\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': bearer\n      },\n      body: JSON.stringify({\n        \"contacts\": [email]\n      })\n    };\n    fetch(url, requestOptions).then(function (res) {\n      console.log(\"Review sent\");\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n  }, [email]);\n\n  var sendSurveys = function sendSurveys(e) {\n    console.log(\"Button clicked\");\n    e.preventDefault();\n\n    if (input) {\n      setemail(input);\n      console.log(email);\n      setInput(\"\");\n    }\n  };\n\n  var handleChange = useCallback(function (newValue) {\n    return setInput(newValue);\n  }, []);\n  return /*#__PURE__*/_jsx(EmptyState, {\n    children: /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: sendSurveys,\n      children: [/*#__PURE__*/_jsx(\"label\", {\n        \"for\": \"name\",\n        children: \"Share Review Survey with Customers through emails\"\n      }), /*#__PURE__*/_jsx(TextField, {\n        label: \"Email id\",\n        value: input,\n        onChange: handleChange\n      }), /*#__PURE__*/_jsx(Button, {\n        submit: true,\n        primary: true,\n        children: \"Submit\"\n      })]\n    })\n  });\n}\n\n_s(Form, \"DMShhNhIlt5PXKs6JQK57Bg6ov4=\");\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["/home/abhishek/Internships/SurveySparrow/Shopify-app/sample-embedded-app/components/ReviewForm.js"],"names":["Button","EmptyState","TextField","React","useCallback","useEffect","useState","Form","input","setInput","email","setemail","url","bearer","requestOptions","method","withCredentials","headers","body","JSON","stringify","fetch","then","res","console","log","err","sendSurveys","e","preventDefault","handleChange","newValue"],"mappings":";;;;;AAAA,SAASA,MAAT,EAAiBC,UAAjB,EAA6BC,SAA7B,QAA8C,kBAA9C;AACA,OAAOC,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,QAA8C,OAA9C;AACA,SAASC,QAAT,QAAyB,OAAzB,C,CAEA;;AACA,SAASC,IAAT,GAAgB;AAAA;;AAAA,kBACcD,QAAQ,CAAC,EAAD,CADtB;AAAA,MACLE,KADK;AAAA,MACEC,QADF;;AAAA,mBAEcH,QAAQ,CAAC,EAAD,CAFtB;AAAA,MAELI,KAFK;AAAA,MAEEC,QAFF;;AAIZ,MAAMC,GAAG,GAAG,uDAAZ;AACA,MAAMC,MAAM,GAAG,YAAY,0FAA3B;AAEAR,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAMS,cAAc,GAAG;AACnBC,MAAAA,MAAM,EAAE,KADW;AAEnBC,MAAAA,eAAe,EAAE,IAFE;AAGnBC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,yBAAiBJ;AAFZ,OAHU;AAOnBK,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjB,oBAAY,CAACV,KAAD;AADK,OAAf;AAPa,KAAvB;AAWAW,IAAAA,KAAK,CAACT,GAAD,EAAME,cAAN,CAAL,CACKQ,IADL,CACU,UAACC,GAAD,EAAS;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACH,KAHL,WAIW,UAACC,GAAD,EAAS;AACZF,MAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACH,KANL;AAOH,GAnBQ,EAmBN,CAAChB,KAAD,CAnBM,CAAT;;AAsBA,MAAMiB,WAAW,GAAG,SAAdA,WAAc,CAACC,CAAD,EAAO;AACvBJ,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAG,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAIrB,KAAJ,EAAW;AACPG,MAAAA,QAAQ,CAACH,KAAD,CAAR;AACAgB,MAAAA,OAAO,CAACC,GAAR,CAAYf,KAAZ;AACAD,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACH;AACJ,GARD;;AASA,MAAMqB,YAAY,GAAG1B,WAAW,CAAC,UAAC2B,QAAD;AAAA,WAActB,QAAQ,CAACsB,QAAD,CAAtB;AAAA,GAAD,EAAmC,EAAnC,CAAhC;AAEA,sBACI,KAAC,UAAD;AAAA,2BACI;AAAM,MAAA,QAAQ,EAAEJ,WAAhB;AAAA,8BACI;AAAO,eAAI,MAAX;AAAA;AAAA,QADJ,eAEI,KAAC,SAAD;AAAW,QAAA,KAAK,EAAC,UAAjB;AAA4B,QAAA,KAAK,EAAEnB,KAAnC;AAA0C,QAAA,QAAQ,EAAEsB;AAApD,QAFJ,eAGI,KAAC,MAAD;AAAQ,QAAA,MAAM,MAAd;AAAe,QAAA,OAAO,MAAtB;AAAA;AAAA,QAHJ;AAAA;AADJ,IADJ;AASH;;GAjDQvB,I;;KAAAA,I;AAmDT,eAAeA,IAAf","sourcesContent":["import { Button, EmptyState, TextField } from '@shopify/polaris'\nimport React, { useCallback, useEffect } from 'react'\nimport { useState } from 'react'\n\n// Here I am using surveySparrow API\nfunction Form() { \n    const [input, setInput] = useState(\"\")\n    const [email, setemail] = useState(\"\")\n\n    const url = 'https://api.surveysparrow.com/v1/shares/email/2238842'\n    const bearer = 'Bearer ' + 'pr0XQuLJrxoeXIiJ6fhDnp_pJ3QgHQ2-8jY2xTrjbfLx1Iv-iFn6KxNtGi01SRDDFWJUmDpNS8SnawQl97OGIMkA';\n\n    useEffect(() => {\n        const requestOptions = {\n            method: 'PUT',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': bearer,\n            },\n            body: JSON.stringify({\n                \"contacts\": [email]\n            })\n        };\n        fetch(url, requestOptions)\n            .then((res) => {\n                console.log(\"Review sent\")\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }, [email]);\n\n \n    const sendSurveys = (e) => {\n        console.log(\"Button clicked\")\n        e.preventDefault();\n        if (input) {\n            setemail(input);\n            console.log(email)\n            setInput(\"\");\n        }\n    }\n    const handleChange = useCallback((newValue) => setInput(newValue), []);\n\n    return (\n        <EmptyState >\n            <form onSubmit={sendSurveys}>\n                <label for=\"name\">Share Review Survey with Customers through emails</label>\n                <TextField label=\"Email id\" value={input} onChange={handleChange} />\n                <Button submit primary>Submit</Button>\n            </form>\n        </EmptyState>\n    )\n}\n\nexport default Form\n"]},"metadata":{},"sourceType":"module"}